<DOCTYPE html>
<html>
<head>
<title>SW Test</title>
<script>
  function registerPush() {
    // senderId 970389620042
    console.log('Registering with the Push API.');
    navigator.serviceWorker.ready.then(
      function(serviceWorkerRegistration) {
        serviceWorkerRegistration.pushManager.register().then(
          function(pushRegistration) {
            console.log(pushRegistration.pushRegistrationId);
            console.log(pushRegistration.pushEndpoint);
          }, function(error) {
            console.log(error);
          });
      }, function(error) {
        console.log(error);
      });
  }
  navigator.serviceWorker.register('sw_push.js', {scope: 'https://mvano.github.io/push/'}).then(
    function(worker) {
      console.log(worker);
      console.log('Registration success for push sw.');
      registerPush();
    }, function(reason) {
      console.log('Registration failure for push sw.');
      console.log(reason);
    });
</script>
</head>
<body>
SW Test
</body>
</html>
